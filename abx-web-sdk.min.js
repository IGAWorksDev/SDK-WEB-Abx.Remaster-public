!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var r in i)("object"==typeof exports?exports:e)[r]=i[r]}}(window,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/{0,1}[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),i=e.match(t);return i?{href:e,protocol:i[1],host:i[2],hostname:i[3],port:i[4],pathname:i[5],search:i[6],hash:i[7]}:{href:e,protocol:"",host:"",hostname:"",port:"",pathname:"",search:"",hash:""}};t.default={parseUrl:r,getParam:function(e){var t=function(e){return decodeURIComponent(e.replace(/\+/g," "))},i=/([^&=]+)=?([^&]*)/g,r="";r=e||window.location.search.substring(1);for(var o={},s=null;s=i.exec(r);)o[t(s[1])]=t(s[2]);return o},getHostname:function(){return r(location.href).hostname},getPath:function(){return r(location.href).pathname}}},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(2),s=r(i(3)),n=function(e){var t=this;this.jsonMerge=function(e,t){var i=JSON.parse(JSON.stringify(e));return Object.assign(i,t)},this.jsonEqual=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},this.getType=function(e){if(void 0===e)return"undefined";if(null===e)return"null";switch(toString.call(e)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Error]":return"error";case"[object Arguments]":return"arguments"}return typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))},this.propertyDataTypeToArray=function(){var e=["number"];return Object.keys(o.PropertyDataType).forEach((function(t){e.push(t.toString())})),e},this.allowDateTypes=this.propertyDataTypeToArray(),this.isNil=function(e){return null==e},this.checkMaxByteSize=function(e){return encodeURI(e.toString()).split(/%..|./).length-1<=s.default.MAX_PROPERTY_VALUE_BYTE_SIZE},this.permittedKey=function(e){var t=e.toLowerCase();return!!new RegExp(/^[a-z0-9_]/).test(t)&&new RegExp(/[a-z0-9_:]*/).test(t)},this.isValidInputKey=function(e,i){void 0===i&&(i=!0);var r=t.getType(e);return t.isNil(e)?(i&&t._abxOptions.trace.error("required key.. '"+e+"'"),!1):"string"!==r?(i&&t._abxOptions.trace.error("The format is incorrect. Please put the key as a string. '"+e+"'"),!1):""===e?(t._abxOptions.trace.error("The key must have a value of at least 1 character. '"+e+"'"),!1):e.length>s.default.MAX_PROPERTY_KEY_LENGTH?(i&&t._abxOptions.trace.error("It can only contain up to "+s.default.MAX_PROPERTY_KEY_LENGTH+" characters '"+e+"'"),!1):!!t.permittedKey(e)||(i&&t._abxOptions.trace.error("Keys are only allowed in the /^[a-z0-9_]*$/ pattern. '"+e+"'"),!1)},this.isValidInputValue=function(e,i){void 0===i&&(i=!0);var r=t.getType(e);return t.allowDateTypes.includes(r)?!!t.checkMaxByteSize(e)||(i&&t._abxOptions.trace.error("The value can be up to "+s.default.MAX_PROPERTY_VALUE_BYTE_SIZE+" bytes in size. '"+e+"'"),!1):(i&&t._abxOptions.trace.error("Not a valid value. Only (string, number, boolean) '"+e+"'"),!1)},this.isValidInputValueType=function(e,i,r,o){void 0===o&&(o=!0);var n=t.getType(i);return r.includes(n)?!!t.checkMaxByteSize(i)||(o&&t._abxOptions.trace.error("The value can be up to "+s.default.MAX_PROPERTY_VALUE_BYTE_SIZE+" bytes in size. '"+i+"'"),!1):(o&&t._abxOptions.trace.error("Not a valid '"+e+"'. Only that value type is allowed. '"+r.join(", ")+"' '"+i+"'"),!1)},this.isValidInputProperties=function(e,i){return void 0===i&&(i=!0),"object"!==t.getType(e)?(i&&t._abxOptions.trace.error("Not a valid '"+name+"'. Only that value type is allowed. (object)"),!1):!(Object.keys(e).length>s.default.MAX_PROPERTY_KEYS&&(i&&t._abxOptions.trace.error("too many properties (more than "+s.default.MAX_PROPERTY_KEYS+")"),1))},this.parsePropertyDataType=function(e){var i=null;switch(t.getType(e)){case"string":i=o.PropertyDataType.string;break;case"number":isNaN(e)||-1===e.toString().indexOf(".")||(i=o.PropertyDataType.double),i=o.PropertyDataType.long;break;case"boolean":i=o.PropertyDataType.boolean;break;default:t._abxOptions.trace.error("It is not allowed. Only that value type is allowed. ("+t.allowDateTypes.join(", ")+")")}return i},this.parsePropertiesV1=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(i,r){var o=e[r];o&&(t[o.key]=o.value)})),t},this.parsePropertiesV2=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(i,r){var o=e[r];o&&(t[o.key]=o.dataType+":"+o.value)})),t},this._abxOptions=e};t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignUpEnum=t.AdbrixEventGroupEnum=t.TraceLevel=t.PropertyDataType=void 0,function(e){e.string="string",e.long="long",e.double="double",e.boolean="boolean"}(t.PropertyDataType||(t.PropertyDataType={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO"}(t.TraceLevel||(t.TraceLevel={})),function(e){e.abx="abx",e.custom="custom"}(t.AdbrixEventGroupEnum||(t.AdbrixEventGroupEnum={})),function(e){e.Kakao="Kakao",e.Naver="Naver",e.Line="Line",e.Google="Google",e.Facebook="Facebook",e.Twitter="Twitter",e.whatsApp="whatsApp",e.QQ="QQ",e.WeChat="WeChat",e.UserId="UserId",e.ETC="ETC",e.SkTid="SkTid",e.AppleId="AppleId"}(t.SignUpEnum||(t.SignUpEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SDK_VERSION:"1.0.0.0",API_VERION:"1.0.0.0",MAX_PROPERTY_KEYS:100,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_VALUE_BYTE_SIZE:1024,ADBRIX_PREFIX_COOKIE_KEY:"_abx_",ADBRIX_PREDEFINED_EVENTS:["firstopen","start_session","login","logout","signup","sign_up","daily_first_open","user_property_changed","page_view","invite","use_credit"]}},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(10)),s=r(i(0)),n=r(i(5)),a=r(i(3)),u=function(){function e(e){var t=this;this.getLastLogId=function(){var e;return null===(e=t._get())||void 0===e?void 0:e.lastEventLogId},this.getLastFirstOpenIdCookie=function(){var e;return null===(e=t._get())||void 0===e?void 0:e.lastFirstOpenId},this.setLastFirstOpenIdCookie=function(){var e=(new Date).getTime()+":"+n.default(),i=t._get();i.lastFirstOpenId=e,i.lastEventLogId=e,t._save(i)},this.getFirstPartyCookie=function(){var e;return null===(e=t._get())||void 0===e?void 0:e.firstPartyId},this.isFirstPartyCookie=function(){return!!t.getFirstPartyCookie()},this.setFirstPartyCookie=function(e){var i=""+n.default(),r=t._get();r.firstPartyId=i,t._save(r),t._abxOptions.trace.info("created first party id: "+i),e&&e()},this.getSessionIdCookie=function(){var e=t._get().session;return e?e.sessionId:null},this.getSessionCookie=function(){var e=t._get().session;return e||null},this.isSessionIdCookie=function(){return!!t.getSessionIdCookie()},this.setSessionIdCookie=function(e){var i;void 0===e&&(e=null),e?(i=e,t._abxOptions.trace.info("updated session : "+JSON.stringify(i))):(i={sessionId:n.default(),lastUpdate:(new Date).getTime()},t._abxOptions.trace.info("new created session : "+JSON.stringify(i)));var r=t._get();r.session=i,t._save(r)},this._isSessionIdCookieCheckedExpireSec=function(){var e=t.getSessionCookie();return!e||!e.lastUpdate||((new Date).getTime()-e.lastUpdate)/1e3>t._abxOptions.sessionExpireSec},this.syncSessionIdCookie=function(){var e=t.getSessionCookie(),i=t._isSessionIdCookieCheckedExpireSec();!e||i?t.setSessionIdCookie():(e.lastUpdate=(new Date).getTime(),t.setSessionIdCookie(e))},this.getUserHashId=function(){var e;return null===(e=t._get())||void 0===e?void 0:e.userId},this.setUserHashId=function(e){var i=t._get();i.userId=e,t._save(i)},this.removeUserHashId=function(){var e=t._get();e.userId=null,t._save(e)},this.setUserProperty=function(e){var i,r=t._get().userProperty;e&&r?JSON.stringify(r.userProperty)!==JSON.stringify(e.userProperty)&&(e.snapshot=n.default(),(i=t._get()).userProperty=e,t._save(i),t._abxOptions.trace.info("new user property: "+JSON.stringify(e))):(e.snapshot=n.default(),(i=t._get()).userProperty=e,t._save(i),t._abxOptions.trace.info("new user property: "+JSON.stringify(e)));return e},this.getUserProperty=function(){var e=t._get().userProperty;return e||t.setUserProperty({userProperty:[],snapshot:null})},this.getLastDailyFirstOpenTimeCookie=function(){var e;return null===(e=t._get())||void 0===e?void 0:e.lastDailyFirstOpenTime},this.isLastDailyFirstOpenTimeCookie=function(){return!!t.getLastDailyFirstOpenTimeCookie()},this.setLastDailyFirstOpenTimeCookie=function(e){var i=t._get();i.lastDailyFirstOpenTime=e,t._save(i)},this._abxOptions=e}return e.prototype._getKey=function(){return a.default.ADBRIX_PREFIX_COOKIE_KEY+"_"+this._abxOptions.appkey},e.prototype._defaultData=function(){return{firstPartyId:null,lastFirstOpenId:null,lastEventLogId:null,lastDailyFirstOpenTime:null,session:{sessionId:null,lastUpdate:null},userId:null,userProperty:{userProperty:[],snapshot:null}}},e.prototype._save=function(e){var t=this._getKey();o.default.setCookie(t,JSON.stringify(e),{expireDay:3650,domain:s.default.getHostname()})},e.prototype._get=function(){var e=o.default.getCookie(this._getKey());return null!=e?JSON.parse(e):this._defaultData()},e.prototype.setLastLogId=function(e){var t=this._get();t.lastEventLogId=e,this._save(t)},e}();t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adbrix=void 0;var r=i(7),o=window&&window.adbrix&&window.adbrix.queue||[];t.adbrix=new r.AdbrixSdk(o)},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdbrixSdk=void 0;var o=i(8),s=i(15),n=r(i(1)),a=i(2),u=r(i(0)),l=Object.values(a.SignUpEnum),p=function(){function e(e){var t=this;this.queue=[],this.userProperty={get:function(e){var i=t._abxCore.getUserProperty();if(null==i)return null;var r=i[e];return t._abxUtil.isNil(r)?null:r},getAll:function(){return t._abxCore.getUserProperty()},addOrUpdate:function(e,i){if(t._abxUtil.isValidInputKey(e)){var r=e.toLowerCase();"user_id"!==r?!t._abxUtil.isNil(i)&&t._abxUtil.isValidInputValue(i)&&t._abxCore.setUserProperty(r,i):t.abxOptions.trace.error("user_id value cannot be changed")}},remove:function(e){if(t._abxUtil.isValidInputKey(e)){var i=e.toLowerCase();"user_id"!==i?t._abxCore.removeUserProperty(i):t.abxOptions.trace.error("user_id cannot. If you want to delete it, please logout method.")}},removes:function(e){if("array"===t._abxUtil.getType(e)){for(var i=e.map((function(e){return e.toLowerCase()})),r=0;r<i.length;r++){var o=i[r];if(!t._abxUtil.isValidInputKey(o))return;if("user_id"===o)return void t.abxOptions.trace.error("user_id cannot. If you want to delete it, please logout method.")}t._abxCore.removesUserProperty(i)}else t.abxOptions.trace.error("Not a valid value. Only (array)")}},this.common={signUp:function(e){if(t._abxUtil.isNil(e))t.abxOptions.trace.error("required signChannel... '"+e+"'");else{var i=l.some((function(t){return t===e}));!t._abxUtil.isNil(i)&&i?t._abxUtil.isValidInputValueType("signChannel",e.toString(),["string"])&&t._abxCore.sendEvent("sign_up",{"abx:sign_channel":e.toString()},!0):t.abxOptions.trace.error("Not a valid signChannel. Only '"+l.join(", ")+"' are allowed.")}},invite:function(e,i){if(t._abxUtil.isNil(e))t.abxOptions.trace.error("required inviteChannel... '"+e+"'");else{var r=l.some((function(t){return t===e}));t._abxUtil.isValidInputValueType("inviteChannel",e.toString(),["string"])&&r?t._abxUtil.isNil(i)?t.abxOptions.trace.error("required userId... '"+i+"'"):t._abxUtil.isValidInputValueType("userId",i,["string","number"])&&(""!==i?t._abxCore.sendEvent("invite",{"abx:invite_channel":e.toString(),user_id:i},!0):t.abxOptions.trace.error("The key must have a userId of at least 1 character.")):t.abxOptions.trace.error("Not a valid inviteChannel. Only '"+l.join(", ")+"' are allowed.")}},useCredit:function(e){t._abxUtil.isNil(e)?t.abxOptions.trace.error("required credit... '"+e+"'"):t._abxUtil.isValidInputValueType("credit",e,["number"])&&t._abxCore.sendEvent("use_credit",{credit:e},!0)}},this.event={send:function(e,i){if(void 0===i&&(i=null),t._abxUtil.isValidInputKey(e)){var r=e.toLowerCase(),o=null;t._abxUtil.isNil(i)||(o=i),t._abxCore.sendEvent(r,o,!1,!0)}}},this.debug={traceListener:function(e){return t._abxCore.traceListener=e}},this.abxOptions=new s.AbxOption,this._abxCore=new o.AbxCore(this.abxOptions),this._abxUtil=new n.default(this.abxOptions),""!==u.default.getHostname()?this.setQueue(e):this.abxOptions.trace.error("There is no host name. Please run it in a web server environment.")}return e.prototype.setQueue=function(e){null!=e&&"array"===this._abxUtil.getType(e)&&(this.queue=e.slice())},e.prototype._cleanQueue=function(){this.queue=[]},e.prototype.runQueuedFunctions=function(){for(var e=this.queue.slice(),t=0;t<e.length;t++)this.invoke(e[t]);this._cleanQueue()},e.prototype.invoke=function(e){var t=e[0];if("string"===this._abxUtil.getType(t)){var i=e[1];"arguments"!==this._abxUtil.getType(i)&&(i=[i]);var r=t.split("."),o=r.pop();r.reduce((function(e,t){return e[t]=e[t]||{}}),this)[o].apply(this,i)}},e.prototype.init=function(e){this._abxCore.init(e)},e.prototype.login=function(e){!this._abxUtil.isNil(e)&&this._abxUtil.isValidInputValueType("userId",e,["string","number"])&&(""!==e?this._abxCore.userHash=e:this.abxOptions.trace.error("The userId must have a value of at least 1 character."))},e.prototype.getUserId=function(){return this._abxCore.userHash},e.prototype.logout=function(){this._abxCore.userHash=null},e}();t.AdbrixSdk=p},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AbxCore=void 0;var o=r(i(0)),s=r(i(1)),n=r(i(9)),a=r(i(11)),u=r(i(4)),l=function(){function e(e){this._isInitAbxOptions=!1,this._backgroundTimer=null,this._backgroundJobs=[],this._firstOpenAndLogin=!1,this._abxOptions=e,this._abxUtil=new s.default(this._abxOptions),this._abxCookie=new u.default(this._abxOptions),this._abxUserProperty=new n.default(this._abxOptions),this._abxEvent=new a.default(this._abxOptions)}return Object.defineProperty(e.prototype,"userHash",{get:function(){return this._abxOptions.userHash},set:function(e){this._abxOptions.userHash=e,null!=e?(this.setUserProperty("user_id",e),this._abxCookie.getUserHashId()||(this._firstOpenAndLogin=!0),this._abxCookie.setUserHashId(e)):(this.removeUserProperty("user_id"),this._abxCookie.removeUserHashId(),this.clearUserProperty(),this._abxOptions.trace.info("logout"),this.sendEvent("logout",{},!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"traceListener",{get:function(){return this._abxOptions.traceListener},set:function(e){this._abxOptions.traceListener=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNilUserHash",{get:function(){var e,t=null===(e=this._abxOptions)||void 0===e?void 0:e.userHash;return null===t||""===t},enumerable:!1,configurable:!0}),e.prototype._addBackground=function(e){this._backgroundJobs.push(e)},e.prototype._execBackgound=function(){var e=this;this._backgroundTimer=window.setInterval((function(){e._backgroundJobs.length>0&&e._backgroundJobs.forEach((function(t){return t(e)}))}),18e5)},e.prototype._cleanBackground=function(){this._backgroundTimer&&(window.clearInterval(this._backgroundTimer),this._backgroundJobs=[])},e.prototype._syncDailyFirstOpen=function(e){var t=e._abxCookie.getLastDailyFirstOpenTimeCookie();t&&(new Date).toDateString()!==new Date(t).toDateString()&&(e._abxOptions.trace.info("daily_first_open event send..!"),e.sendEvent("daily_first_open",{},!0),e._abxCookie.setLastDailyFirstOpenTimeCookie((new Date).getTime()))},e.prototype._getAdbrixPropertyV2=function(e,t){var i=this._abxUtil.isValidInputKey(e),r=this._abxUtil.isValidInputValue(t),o=this._abxUtil.parsePropertyDataType(t);return i&&r&&o?{key:e,value:t,dataType:o}:null},e.prototype._initAdbrixCore=function(){var e=this;if(this._isInitAbxOptions){var t=function(t,i,r){var o=[];return Object.keys(t).forEach((function(s){var n=s.toLowerCase();if(n.indexOf(i+"_")>-1){var a=e._getAdbrixPropertyV2(r+":"+n,t[s]);a&&o.push(a)}})),o},i=o.default.getParam();if(this._abxOptions.isUtmParsing&&this._abxEvent.addCommonParams(t(i,"utm","abx")),this._abxOptions.isNaverParsing&&this._abxEvent.addCommonParams(t(i,"n","custom")),this._abxOptions.isincludeGclid&&this._abxEvent.addCommonParams(t(i,"gclid","custom")),this._abxOptions.isIncludeReferrer){var r=o.default.parseUrl(document.referrer),s=this._getAdbrixPropertyV2("abx:ref_host",r.hostname);s&&this._abxEvent.addCommonParam(s);var n=this._getAdbrixPropertyV2("abx:ref_path",r.pathname);n&&this._abxEvent.addCommonParam(n)}if(this._abxOptions.userHash?this.userHash=this._abxOptions.userHash:this._abxOptions.userHash=this._abxCookie.getUserHashId(),this._abxCookie.isFirstPartyCookie())this._abxCookie.syncSessionIdCookie(),this._abxUserProperty.syncUserPropertyWithCookie(),this.sendEvent("start_session",{},!0),this._syncDailyFirstOpen(this);else{this._abxCookie.setFirstPartyCookie(),this._abxCookie.setSessionIdCookie(),this._abxCookie.setLastFirstOpenIdCookie(),this._abxCookie.setLastDailyFirstOpenTimeCookie((new Date).getTime());this.sendEventBulk([{evtName:"firstopen",evtProps:{}},{evtName:"start_session",evtProps:{}}],!0),this._firstOpenAndLogin&&this.sendEvent("login",{},!0)}this._abxOptions.isExecPageViewEvent&&this.sendEvent("page_view",{},!0),this._addBackground(this._abxCookie.syncSessionIdCookie),this._addBackground(this._syncDailyFirstOpen)}},e.prototype.init=function(e){var t,i;if(this._abxOptions.appkey)this._abxOptions.trace.error("appkey has already been added.");else{if(!(null==e?void 0:e.appkey))return this._isInitAbxOptions=!1,void this._abxOptions.trace.error("required appkey..");if(22!==(null===(t=null==e?void 0:e.appkey)||void 0===t?void 0:t.length))return this._isInitAbxOptions=!1,void this._abxOptions.trace.error("not a valid appkey..");if(!(null==e?void 0:e.webSecretkey))return this._isInitAbxOptions=!1,void this._abxOptions.trace.error("required webSecretkey..");if(22!==(null===(i=null==e?void 0:e.webSecretkey)||void 0===i?void 0:i.length))return this._isInitAbxOptions=!1,void this._abxOptions.trace.error("not a valid webSecretkey..");this._isInitAbxOptions=!0,this._abxOptions.setOptions(e),this._initAdbrixCore(),this._execBackgound()}},e.prototype.isVaildAppkey=function(){return!!this._abxOptions.appkey},e.prototype.getUserProperty=function(){var e=this._abxUserProperty.userProperty;return this._abxUtil.parsePropertiesV1(e.userProperty)},e.prototype.setUserProperty=function(e,t){var i=this._getAdbrixPropertyV2(e,t);if(i){var r=this._abxUserProperty.userProperty;if(r.userProperty)r.userProperty.some((function(e){return e.key==e.key&&e.value==e.value&&e.dataType==e.dataType}));this._abxUserProperty.setUserPropertyKeyValue(i),"user_id"===e&&this._abxOptions.isInit&&this._abxCookie.getFirstPartyCookie()?(this._abxOptions.trace.info("login"),this.sendEvent("login",{},!0)):!this.isNilUserHash&&this._abxOptions.isInit&&this._abxCookie.getFirstPartyCookie()&&(this._abxOptions.trace.info("changed User Property"),this.sendEvent("user_property_changed",{},!0))}},e.prototype.syncUserProperty=function(){this._abxUserProperty.syncUserPropertyWithCookie()},e.prototype.removeUserProperty=function(e){this._abxUserProperty.removeUserPropertyKey(e)&&!this.isNilUserHash&&this._abxOptions.isInit&&(this._abxOptions.trace.info("changed User Property"),this.sendEvent("user_property_changed",{},!0))},e.prototype.removesUserProperty=function(e){var t=this,i=[];e.forEach((function(e){var r=t._abxUserProperty.removeUserPropertyKey(e);i.push(r)})),i.some((function(e){return e}))&&!this.isNilUserHash&&this._abxOptions.isInit&&(this._abxOptions.trace.info("changed User Property"),this.sendEvent("user_property_changed",{},!0))},e.prototype.clearUserProperty=function(){this._abxUserProperty.clearUserProperty()},e.prototype._generateEventParam=function(e,t,i){var r=this;void 0===i&&(i=!1);var o={eventName:e,eventProperties:[]};if(this._abxUtil.isNil(t))return o;var s=t;if(this._abxUtil.isValidInputProperties(s)){var n=!0;if(Object.keys(s).forEach((function(e){var t=e.toLowerCase();i&&(t="c:"+t);var a=r._getAdbrixPropertyV2(t,s[e]);a?o.eventProperties.push(a):n=!1})),n)return o}return null},e.prototype.sendEvent=function(e,t,i,r){if(void 0===i&&(i=!1),void 0===r&&(r=!1),this._isInitAbxOptions){var o=this._generateEventParam(e,t,r);null!=o?this._abxEvent.sendEvent(o,i):this._abxOptions.trace.error('Invalid Parameters"')}else this._abxOptions.trace.error('This event will be send after "adbrix.init({...arg});"')},e.prototype.sendEventBulk=function(e,t){var i=this;if(void 0===t&&(t=!1),this._isInitAbxOptions){var r=[];e.forEach((function(e){var t=i._generateEventParam(e.evtName,e.evtProps);null!=t?r.push(t):i._abxOptions.trace.error('Invalid Parameters"')})),this._abxEvent.sendEventBulk(r,t)}else this._abxOptions.trace.error('This event will be send after "adbrix.init({...arg});"')},e}();t.AbxCore=l},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(4)),s=r(i(1)),n=function(){function e(e){this._abxOptions=e,this._abxUtil=new s.default(this._abxOptions),this._abxCookie=new o.default(this._abxOptions),this._userProperty=this._abxCookie.getUserProperty()}return Object.defineProperty(e.prototype,"userProperty",{get:function(){return this._userProperty},enumerable:!1,configurable:!0}),e.prototype.defaultUserProperty=function(){return{userProperty:[],snapshot:null}},e.prototype.isNullUser=function(){return this._abxUtil.jsonEqual(this._userProperty,this.defaultUserProperty())},e.prototype.syncUserPropertyWithCookie=function(){this.isNullUser()?this._userProperty=this._abxCookie.getUserProperty():this._userProperty=this._abxCookie.setUserProperty(this._userProperty)},e.prototype.removeUserPropertyKey=function(e){var t=!1;if(this._userProperty){var i=this._userProperty.userProperty.findIndex((function(t){return t.key===e}));i>-1&&(this._userProperty.userProperty.splice(i,1),t=!0)}return this.syncUserPropertyWithCookie(),t},e.prototype.setUserPropertyKeyValue=function(e){var t=this;null!=e.value?"array"===this._abxUtil.getType(this._userProperty.userProperty)?(this._userProperty.userProperty.some((function(t){return t.key===e.key}))?this._userProperty.userProperty.forEach((function(i,r){i.key===e.key&&(t._userProperty.userProperty[r]=e)})):this._userProperty.userProperty.push(e),this.syncUserPropertyWithCookie()):(this._userProperty.userProperty=[],this._userProperty.userProperty.push(e),this.syncUserPropertyWithCookie()):this.removeUserPropertyKey(e.key)},e.prototype.clearUserProperty=function(){var e=this._userProperty.userProperty.length>0;return this._userProperty.userProperty=[],this.syncUserPropertyWithCookie(),e},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,i){var r=null!==t?null==i?void 0:i.expireDay:-1,o=null;if(r){var s=new Date;s.setTime(s.getTime()+864e5*r),o=s.toUTCString()}var n=e+"="+t;return o&&(n+="; expires="+o),n+="; path=/",(null==i?void 0:i.domain)&&(n+="; domain="+(null==i?void 0:i.domain)),(null==i?void 0:i.secure)&&(n+="; Secure"),(null==i?void 0:i.sameSite)&&(n+="; SameSite="+(null==i?void 0:i.sameSite)),document.cookie=n,t};t.default={getCookie:function(e){var t=RegExp(e+"=.[^;]*"),i=document.cookie.match(t);if(i){var r=i[0].split("=");return unescape(r[1])}return null},setCookie:r,removeCookie:function(e){r(e,null)}}},function(e,t,i){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<i;t++)for(var s=arguments[t],n=0,a=s.length;n<a;n++,o++)r[o]=s[n];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(2),n=o(i(4)),a=o(i(12)),u=o(i(1)),l=o(i(0)),p=o(i(13)),d=o(i(5)),c=o(i(3)),h=o(i(14)),f=function(){function e(e){this._commonParam=[],this._abxPixel=a.default,this._abxOptions=e,this._abxCookie=new n.default(this._abxOptions),this._abxUtil=new u.default(this._abxOptions),this.initDefaultCommonParam()}return e.prototype.defaultCommonParam=function(){return{key:"abx:path",value:l.default.getPath(),dataType:s.PropertyDataType.string}},e.prototype.initDefaultCommonParam=function(){this._commonParam=[this.defaultCommonParam()]},e.prototype.setAndGetLogId=function(){var e=(new Date).getTime()+":"+d.default();return this._abxCookie.setLastLogId(e),e},e.prototype.getLastFirstOpenLogId=function(){return this._abxCookie.getLastFirstOpenIdCookie()},e.prototype.isAdbrixPredefinedEvents=function(e){return c.default.ADBRIX_PREDEFINED_EVENTS.some((function(t){return t===e}))},e.prototype.getBaseRequestJsonObject=function(){var e,t,i,r,o,s,n=new h.default.UAParser;return{request_datetime:(new Date).toISOString(),identity:{cookie:this._abxCookie.getFirstPartyCookie(),uuid:null,adid:"c:"+this._abxCookie.getFirstPartyCookie(),idfv:null,ad_id_opt_out:this._abxOptions.isOptOut,user_hash:this._abxOptions.userHash,device_id:null},device_info:{os:null!==(t=null===(e=n.getOS())||void 0===e?void 0:e.version)&&void 0!==t?t:null,model:null!==(r=null===(i=n.getDevice())||void 0===i?void 0:i.model)&&void 0!==r?r:null,vendor:null!==(s=null===(o=n.getDevice())||void 0===o?void 0:o.vendor)&&void 0!==s?s:null,resolution:p.default.resolution,is_portrait:p.default.isPortrait(),platform:"web",network:null,carrier:null,language:p.default.userLanguage,country:null},package_name:l.default.getHostname(),appkey:this._abxOptions.appkey,api_version:this._abxOptions.apiVersion,sdk_version:this._abxOptions.sdkVersion,installer:null,app_version:this._abxOptions.appVersion,build_id:null,last_firstopen_id:this._abxCookie.getLastFirstOpenIdCookie(),last_deeplink_id:null}},e.prototype.getEventRequestJsonObject=function(e){var t=e.group===s.AdbrixEventGroupEnum.abx&&"firstopen"===e.eventName;return{prev_id:t?null:this._abxCookie.getLastLogId(),event_datetime:(new Date).toISOString(),group:e.group,event_name:e.eventName,param:null===e.properties?{}:this._abxUtil.parsePropertiesV1(e.properties),session_interval:0,session_length:0,log_id:t?this.getLastFirstOpenLogId():this.setAndGetLogId(),session_id:this._abxCookie.getSessionIdCookie(),user_snapshot_id:this._abxCookie.getUserProperty().snapshot,location:null,user_properties:this._abxUtil.parsePropertiesV1(this._abxCookie.getUserProperty().userProperty)}},e.prototype.addCommonParam=function(e){this._commonParam.push(e)},e.prototype.addCommonParams=function(e){var t=this;e.length>0&&e.forEach((function(e){t._commonParam.push(e)}))},e.prototype._sendEvent=function(e){this._abxPixel.createPixel(this._abxOptions,"https://event.adbrix.io/api/v1/event/bulk/"+this._abxOptions.appkey+"/?e=",e),this._abxOptions.trace.info(JSON.stringify(e))},e.prototype._getEventParam=function(e,t){var i={group:t&&this.isAdbrixPredefinedEvents(e.eventName)?s.AdbrixEventGroupEnum.abx:s.AdbrixEventGroupEnum.custom,eventName:e.eventName,properties:r(this._commonParam,e.eventProperties)};return this.getEventRequestJsonObject(i)},e.prototype.sendEvent=function(e,t){var i={common:this.getBaseRequestJsonObject(),evts:[]};i.evts.push(this._getEventParam(e,t)),this._sendEvent(i)},e.prototype.sendEventBulk=function(e,t){var i=this,r={common:this.getBaseRequestJsonObject(),evts:[]};e.forEach((function(e){r.evts.push(i._getEventParam(e,t))})),this._sendEvent(r)},e}();t.default=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={createPixel:function(e,t,i){var r=new Image(1,1),o=t+encodeURIComponent(JSON.stringify(i));r.onload=function(){e.trace.info("send complete. path:"+t+" , json:"+JSON.stringify(i))},r.onerror=function(){e.trace.error("send error. path:"+t+" , json:"+JSON.stringify(i))},r.src=o}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.screen?window.screen.width:0,o=window.screen?window.screen.height:0,s=window.screen?"number"==typeof window.screen.width?window.screen.width+"x"+window.screen.height:"0x0":0,n=navigator.language.toLowerCase(),a=navigator.userAgent;t.default={isPortrait:function(){return!window.screen||(!window.screen.orientation||(!window.screen.orientation.type||-1!==window.screen.orientation.type.indexOf("portrait")))},width:r,height:o,resolution:s,userLanguage:n,userAgent:a}},function(e,t,i){var r;
/*!
 * UAParser.js v0.7.21
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */!function(o,s){"use strict";var n="model",a="name",u="type",l="vendor",p="version",d="mobile",c="tablet",h="smarttv",f={extend:function(e,t){var i={};for(var r in e)t[r]&&t[r].length%2==0?i[r]=t[r].concat(e[r]):i[r]=e[r];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function(e,t){for(var i,r,o,s,n,a,u=0;u<t.length&&!n;){var l=t[u],p=t[u+1];for(i=r=0;i<l.length&&!n;)if(n=l[i++].exec(e))for(o=0;o<p.length;o++)a=n[++r],"object"==typeof(s=p[o])&&s.length>0?2==s.length?"function"==typeof s[1]?this[s[0]]=s[1].call(this,a):this[s[0]]=s[1]:3==s.length?"function"!=typeof s[1]||s[1].exec&&s[1].test?this[s[0]]=a?a.replace(s[1],s[2]):void 0:this[s[0]]=a?s[1].call(this,a,s[2]):void 0:4==s.length&&(this[s[0]]=a?s[3].call(this,a.replace(s[1],s[2])):void 0):this[s]=a||void 0;u+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&t[i].length>0){for(var r=0;r<t[i].length;r++)if(f.has(t[i][r],e))return"?"===i?void 0:i}else if(f.has(t[i],e))return"?"===i?void 0:i;return e}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},_={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,p],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[a,p],[/(konqueror)\/([\w\.]+)/i],[[a,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[a,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[a,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[a,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[a,p],[/(QQ)\/([\d\.]+)/i],[a,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[a,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[a,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[a,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,p],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[a,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[p,b.str,v.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[n,l,[u,c]],[/applecoremedia\/[\w\.]+ \((ipad)/],[n,[l,"Apple"],[u,c]],[/(apple\s{0,1}tv)/i],[[n,"Apple TV"],[l,"Apple"],[u,h]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,n,[u,c]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[n,[l,"Amazon"],[u,c]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[n,b.str,v.device.amazon.model],[l,"Amazon"],[u,d]],[/android.+aft([bms])\sbuild/i],[n,[l,"Amazon"],[u,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[n,l,[u,d]],[/\((ip[honed|\s\w*]+);/i],[n,[l,"Apple"],[u,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,n,[u,d]],[/\(bb10;\s(\w+)/i],[n,[l,"BlackBerry"],[u,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[n,[l,"Asus"],[u,c]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[n,"Xperia Tablet"],[u,c]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[l,"Sony"],[u,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,n,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[n,[l,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[n,[l,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[l,b.str,v.device.sprint.vendor],[n,b.str,v.device.sprint.model],[u,d]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[n,/_/g," "],[u,d]],[/(nexus\s9)/i],[n,[l,"HTC"],[u,c]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[n,[l,"Huawei"],[u,d]],[/android.+(bah2?-a?[lw]\d{2})/i],[n,[l,"Huawei"],[u,c]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,n,[u,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[n,[l,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[l,"Microsoft"],[u,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[n,[l,"Motorola"],[u,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[n,[l,"Motorola"],[u,c]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,f.trim],[n,f.trim],[u,h]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[l,"Samsung"],[u,h]],[/\(dtv[\);].+(aquos)/i],[n,[l,"Sharp"],[u,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],n,[u,c]],[/smart-tv.+(samsung)/i],[l,[u,h],n],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],n,[u,d]],[/sie-(\w*)/i],[n,[l,"Siemens"],[u,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],n,[u,d]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[n,[l,"Acer"],[u,c]],[/android.+([vl]k\-?\d{3})\s+build/i],[n,[l,"LG"],[u,c]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],n,[u,c]],[/(lg) netcast\.tv/i],[l,n,[u,h]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[n,[l,"LG"],[u,d]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[l,n,[u,c]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[n,[l,"Lenovo"],[u,c]],[/(lenovo)[_\s-]?([\w-]+)/i],[l,n,[u,d]],[/linux;.+((jolla));/i],[l,n,[u,d]],[/((pebble))app\/[\d\.]+\s/i],[l,n,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,n,[u,d]],[/crkey/i],[[n,"Chromecast"],[l,"Google"],[u,h]],[/android.+;\s(glass)\s\d/i],[n,[l,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[n,[l,"Google"],[u,c]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[n,[l,"Google"],[u,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[n,/_/g," "],[l,"Xiaomi"],[u,d]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[n,/_/g," "],[l,"Xiaomi"],[u,c]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[n,[l,"Meizu"],[u,d]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],n,[u,d]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[n,[l,"OnePlus"],[u,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[n,[l,"RCA"],[u,c]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[n,[l,"Dell"],[u,c]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[n,[l,"Verizon"],[u,c]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],n,[u,c]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[n,[l,"NuVision"],[u,c]],[/android.+;\s(k88)\sbuild/i],[n,[l,"ZTE"],[u,c]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[n,[l,"Swiss"],[u,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[n,[l,"Swiss"],[u,c]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[n,[l,"Zeki"],[u,c]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],n,[u,c]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[n,[l,"Insignia"],[u,c]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[n,[l,"NextBook"],[u,c]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],n,[u,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],n,[u,d]],[/android.+;\s(PH-1)\s/i],[n,[l,"Essential"],[u,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[n,[l,"Envizen"],[u,c]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,n,[u,c]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[n,[l,"MachSpeed"],[u,c]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,n,[u,c]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[n,[l,"Rotor"],[u,c]],[/android.+(KS(.+))\s+build/i],[n,[l,"Amazon"],[u,c]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,n,[u,c]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,f.lowerize],l,n],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,h]],[/(android[\w\.\s\-]{0,9});.+build/i],[n,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[p,b.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[p,b.str,v.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[a,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],p],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,p],[/(haiku)\s(\w+)/i],[a,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,p]]},y=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof y))return new y(e,t).getResult();var i=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=t?f.extend(_,t):_;return this.getBrowser=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,i,r.browser),e.major=f.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return b.rgx.call(e,i,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return b.rgx.call(e,i,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,i,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,i,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};y.VERSION="0.7.21",y.BROWSER={NAME:a,MAJOR:"major",VERSION:p},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:n,VENDOR:l,TYPE:u,CONSOLE:"console",MOBILE:d,SMARTTV:h,TABLET:c,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:a,VERSION:p},y.OS={NAME:a,VERSION:p},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=y),t.UAParser=y):void 0===(r=function(){return y}.call(t,i,t,e))||(e.exports=r);var g=o&&(o.jQuery||o.Zepto);if(g&&!g.ua){var x=new y;g.ua=x.getResult(),g.ua.get=function(){return x.getUA()},g.ua.set=function(e){x.setUA(e);var t=x.getResult();for(var i in t)g.ua[i]=t[i]}}}("object"==typeof window?window:this)},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AbxOption=void 0;var o=i(2),s=r(i(3)),n=function(){function e(){var e=this;this.isInit=!1,this.global={sdkVersion:s.default.SDK_VERSION,apiVersion:s.default.API_VERION,sessionExpireSec:1800},this._trace={error:function(t){e.traceLevel>=o.TraceLevel.ERROR&&e.traceListener(""+t,o.TraceLevel.ERROR)},warn:function(t){e.traceLevel>=o.TraceLevel.WARN&&e.traceListener(""+t,o.TraceLevel.WARN)},info:function(t){e.traceLevel>=o.TraceLevel.INFO&&e.traceListener(""+t,o.TraceLevel.INFO)}},this.options={appkey:null,webSecretkey:null,userHash:null,appVersion:"default",isOptOut:!1,isIncludeUtm:!1,isIncludeNaver:!1,isIncludeReferrer:!1,isincludeGclid:!1,isExecPageViewEvent:!1,traceLevel:o.TraceLevel.ERROR,traceListener:function(e,t){try{switch(t){case o.TraceLevel.ERROR:console.error("[adbrix] Error: "+e);break;case o.TraceLevel.INFO:console.log("[adbrix] Info: "+e);break;case o.TraceLevel.WARN:console.warn("[adbrix] Warn: "+e);break;case o.TraceLevel.DISABLE:}}catch(e){}}}}return e.prototype.setOptions=function(e){e&&(this.options=Object.assign(this.options,e),this.isInit=!0,this.trace.info("init adbrix sdk"))},Object.defineProperty(e.prototype,"sdkVersion",{get:function(){return this.global.sdkVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiVersion",{get:function(){return this.global.apiVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionExpireSec",{get:function(){return this.global.sessionExpireSec},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appkey",{get:function(){return this.options.appkey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webSecretkey",{get:function(){return this.options.webSecretkey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userHash",{get:function(){return this.options.userHash},set:function(e){this.options.userHash=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){return this.options.appVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOptOut",{get:function(){return this.options.isOptOut},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUtmParsing",{get:function(){return this.options.isIncludeUtm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNaverParsing",{get:function(){return this.options.isIncludeNaver},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIncludeReferrer",{get:function(){return this.options.isIncludeReferrer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isincludeGclid",{get:function(){return this.options.isincludeGclid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExecPageViewEvent",{get:function(){return this.options.isExecPageViewEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"traceLevel",{get:function(){return this.options.traceLevel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trace",{get:function(){return this._trace},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"traceListener",{get:function(){return this.options.traceListener},set:function(e){this.options.traceListener=e},enumerable:!1,configurable:!0}),e}();t.AbxOption=n}])}));